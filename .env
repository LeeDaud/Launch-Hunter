# =========================
# Server / CORS / DB
# =========================
PORT=3000
HOST=0.0.0.0
FRONTEND_ORIGIN=https://your-frontend.vercel.app
DB_PATH=/var/lib/virtuals-backend/app.db

# =========================
# Base RPC
# =========================
BASE_HTTP_RPC=https://base-mainnet.core.chainstack.com
BASE_WS_RPC=wss://base-mainnet.core.chainstack.com
USE_WS_NEW_HEADS=true

# =========================
# Spot price / pair discovery
# =========================
SPOT_PAIR_ADDRESS=
SPOT_PAIR_REFRESH_MS=5000
AUTO_DISCOVER_SPOT_PAIR=true
AUTO_DISCOVER_SPOT_PAIR_INTERVAL_MS=60000
EXTERNAL_DEX_FACTORY_ADDRESS=0x33128a8c17869897dcE68Ed026d694621F6FDfD,0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6,0x420DD381b31aEf6683db6B902084cb0FFEce40Da
EXTERNAL_WETH_ADDRESS=0x4200000000000000000000000000000000000006
EXTERNAL_MIN_LIQUIDITY_USD=50000
WETH_USD_FALLBACK=0
VIRTUALS_LAUNCHPOOL_FACTORY_ADDRESS=0x6AC97E72c020dd95a54bbd7289dac9838a6fbc80
LAUNCHPOOL_SCAN_BLOCKS=30000
INTERNAL_PRICE_DECIMALS=18
REQUIRE_VIRTUAL_QUOTE_FOR_SPOT=true

# =========================
# USD pricing
# =========================
VIRTUAL_USD_PAIR_ADDRESS=0xa9991eeaca10af662633913106fe4c18ec06e1f8
VIRTUAL_USD_FALLBACK=0
USD_STABLE_TOKEN_ADDRESSES=0x833589fcd6edb6e08f4c7c32d4f71b54bda02913,0xd9aaec86b65d86f6a7b5b1b0c42ffa531710b6ca

# =========================
# Explorer API (optional)
# =========================
ETHERSCAN_API_KEY=EEV4M8A1TRUIXS32VP8MPCKA4S5HEWFHYR
ETHERSCAN_CHAIN_ID=8453

# =========================
# Token / counterparty config
# =========================
VIRTUAL_CA=0x0b3e328455c4059eeb9e3f84b5543f74e24e7e1b
VIRTUAL_TOKEN_ADDRESS=0x0b3e328455c4059eeb9e3f84b5543f74e24e7e1b
COUNTERPARTY_TOKEN_ADDRESSES=0x833589fcd6edb6e08f4c7c32d4f71b54bda02913,0xd9aaec86b65d86f6a7b5b1b0c42ffa531710b6ca

# =========================
# Tracking range / polling
# =========================
BACKFILL_BLOCKS=8000
TOKEN_START_BLOCK=0
AUTO_DISCOVER_TOKEN_START=true
AUTO_DISCOVER_LAUNCH_START_TIME=true
TOKEN_START_PROBE_COARSE_SPAN=200000
TOKEN_START_PROBE_FINE_SPAN=10000
TOKEN_START_PROBE_MICRO_SPAN=500
LOG_CHUNK_SIZE=1200
REPLAY_RECENT_BLOCKS=24
POLLING_INTERVAL_MS=2500
UPDATE_THROTTLE_MS=2000

# =========================
# Metrics / rule engine
# =========================
METRIC_MODE=token_received
RULE_FIRST_THRESHOLD=3000
RULE_SECOND_THRESHOLD=6000
RULE_COOLDOWN_MINUTES=10
SELL_TAX_PCT=1
LAUNCH_START_TIME=0

# =========================
# My wallet (optional)
# =========================
MY_WALLET_ADDRESS=
MY_WALLET_FROM_BLOCK=0
MY_WALLET_MAX_BACKFILL_BLOCKS=500000
CURVE_WINDOW_MINUTES=30

# =========================
# Protocol monitor
# =========================
PROTOCOL_ALERT_INFLOW_VIRTUAL=5000
PROTOCOL_AUTO_DISCOVER_ENABLED=true
PROTOCOL_AUTO_DISCOVER_INTERVAL_MS=60000
PROTOCOL_AUTO_DISCOVER_BLOCKS=2500
PROTOCOL_AUTO_DISCOVER_MIN_INTERACTIONS=8
PROTOCOL_AUTO_DISCOVER_MIN_DISTINCT_TOKENS=2
PROTOCOL_AUTO_DISCOVER_MIN_VIRTUAL_BALANCE=1000
PROTOCOL_AUTO_DISCOVER_MAX_CANDIDATES=30

# =========================
# Internal switches
# =========================
ENABLE_TX_FACTS=true
DEBUG_TRACKING_LOGS=false
SPECIAL_ADDRESS_FILE=./backend/src/special-addresses.json

# =========================
# RPC retry
# =========================
MAX_RPC_RETRIES=5
RPC_BASE_BACKOFF_MS=400
